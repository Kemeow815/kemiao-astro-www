---
import PostLayout from '@/layouts/PostLayout.astro'
import type { Frontmatter } from '@/types'
import { slugify } from '@/utils'
const { post } = Astro.props

export async function getStaticPaths() {
  const posts = await Astro.glob<Frontmatter>('../../content/**/*.mdx')

  return posts.map((post) => {
    return {
      params: {
        slug: slugify(post.url),
      },
      props: {
        post,
      },
    }
  })
}
---

<PostLayout post={post} />
