---
import { getCollection } from 'astro:content';

const collection = await getCollection('newsletter', ({ data }) => !data.draft);
const sorted = collection.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
const [newest] = sorted;

return Astro.rewrite(`/newsletter/${newest.slug}`);
---
