---
// 返回顶部通用组件
---

<button 
  id="backToTop" 
  class="fixed bottom-8 right-8 p-3 w-11 h-11 rounded-full 
         bg-white/80 dark:bg-zinc-800/80
         text-zinc-600 dark:text-zinc-400
         shadow-lg backdrop-blur-sm
         border border-zinc-200/50 dark:border-zinc-700/50
         hover:bg-zinc-50 dark:hover:bg-zinc-700/80
         focus:outline-none transform translate-y-20 opacity-0 transition-all duration-300 cursor-pointer
         z-40"
  transition:persist
  aria-label="返回顶部"
>
  <span class="iconify tabler--arrow-up text-lg"></span>
</button>

<script is:inline data-astro-rerun>
  document.addEventListener('astro:page-load', () => {
    const backToTopButton = document.getElementById('backToTop');
    if (!backToTopButton) return;
    
    const handleScroll = () => {
      if (window.scrollY > 500) {
        backToTopButton.classList.remove('translate-y-20', 'opacity-0');
      } else {
        backToTopButton.classList.add('translate-y-20', 'opacity-0');
      }
    };
    
    // 初始检查滚动位置
    handleScroll();
    
    // 添加滚动监听
    window.addEventListener('scroll', handleScroll);
    
    // 返回顶部点击事件
    backToTopButton.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
  }, { once: false });
</script>
