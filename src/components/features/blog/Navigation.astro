---
import IconArrowRight from '~icons/tabler/arrow-right';
import IconArticle from '~icons/tabler/article';
import IconHome from '~icons/tabler/home';
import IconMail from '~icons/tabler/mail';
import IconBrandRss from '~icons/tabler/rss';
import MobileNavigation from './MobileNavigation.astro';

const menuItems = [
  {
    href: '/newsletter',
    icon: 'mail',
    text: '周刊',
    description: '每周精选的有趣内容',
    color: 'from-amber-500/20 to-orange-500/20',
  },
  {
    href: '/archive',
    icon: 'article',
    text: '归档',
    description: '所有归档文章',
    color: 'from-emerald-500/20 to-teal-500/20',
  },
];
---

<nav class="w-full">
  {/* 桌面端导航 */}
  <div class="hidden md:flex md:flex-col md:space-y-4">
    {menuItems.map(item => (
      <a
        href={item.href}
        class={`group relative overflow-hidden flex items-center justify-between p-5
               rounded-3xl bg-gradient-to-br ${item.color} dark:bg-opacity-30
               backdrop-blur-lg border border-white/20 dark:border-zinc-700/30
               shadow-lg shadow-zinc-800/5 hover:shadow-xl
               hover:scale-[1.03] active:scale-[0.98]
               transition-all duration-300 ease-out`}
      >
        <div class="absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-10 transition-opacity duration-500 ease-out"></div>
        <div class="absolute -inset-1 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500 group-hover:animate-pulse"></div>
        
        <div class="flex items-center gap-5 z-10">
          <div class="flex items-center justify-center w-12 h-12 rounded-2xl bg-white/80 dark:bg-zinc-800/80 shadow-inner backdrop-blur-sm">
            {item.icon === 'home' && (
              <IconHome
                class="w-6 h-6 text-violet-500 dark:text-violet-400"
                aria-hidden="true"
              />
            )}
            {item.icon === 'mail' && (
              <IconMail
                class="w-6 h-6 text-amber-500 dark:text-amber-400"
                aria-hidden="true"
              />
            )}
            {item.icon === 'article' && (
              <IconArticle
                class="w-6 h-6 text-emerald-500 dark:text-emerald-400"
                aria-hidden="true"
              />
            )}
            {item.icon === 'rss' && (
              <IconBrandRss
                class="w-6 h-6 text-pink-500 dark:text-pink-400"
                aria-hidden="true"
              />
            )}
          </div>
          <div class="flex flex-col">
            <span class="font-semibold text-lg text-zinc-900 dark:text-zinc-100">
              {item.text}
            </span>
            <span class="text-sm text-zinc-600 dark:text-zinc-400">
              {item.description}
            </span>
          </div>
        </div>
        <div class="z-10 p-2.5">
          <IconArrowRight
            class="w-5 h-5 text-zinc-500 dark:text-zinc-400 group-hover:translate-x-1 transition-transform"
            aria-hidden="true"
          />
        </div>
      </a>
    ))}
  </div>

  {/* 移动端导航 */}
  <MobileNavigation />
</nav>

<style>
  @keyframes pulse {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
  }
  
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
</style>
